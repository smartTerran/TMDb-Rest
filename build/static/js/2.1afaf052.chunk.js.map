{"version":3,"sources":["components/ATOMS/UI-A/Button-A/Button.js","components/ATOMS/UI-A/Button-A/Button.module.scss","components/ATOMS/UI-A/Dropdown-A/Dropdown.module.scss","components/MOLECULES/Discover-M/Filters-M/Filters.module.scss","components/ORGANISMS/Header-O/Header.module.scss","components/ATOMS/UI-A/Dropdown-A/Dropdown.js","components/MOLECULES/Discover-M/Filters-M/Filters.js","components/ORGANISMS/Header-O/Header.js","containers/Search/Search.module.scss","containers/Search/Search.js"],"names":["button","props","func","classNames","c","Button","btnClicked","buttonArgs","e","u","apply","concat","Object","_Volumes_WORK_Web_Projects_ReactJS_FilmBase_React_App_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","context","push","Button__Login","Button__Logout","isLink","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","href","target","rel","className","join","Button__Text","text","onClick","module","exports","Dropdown","Dropdown_discover","Dropdown__List","Dropdown__List_discover","Dropdown__Header","Dropdown__Header_discover","Dropdown__Item","Dropdown__Item_discover","Filters","Header","Header__Discover","Header__Login","Header__Login_Buttons","Header__Fineprint","dropdown","stateKey","updateKey","dropdownClasses","dropdownHeaderClasses","dropdownListClasses","dropdownItemClasses","options","map","option","react_default","key","_","selected","value","filters","textFilters","dropdownFilters","entries","forEach","_ref","_ref2","slicedToArray","filterKey","filterData","inputType","Input","assign","inputChanged","submitBtn","inputConfig","type","placeholder","applyFilters","onSubmit","header","headerTitle","updateInputValue","buttons","fineprint","Title","title","Search","state","currentQueryParams","getFilmDetailsHandler","videoId","videoType","_this","onGetTVDetails","onGetMovieDetails","arrowClickedHandler","arrow","onChangeSearchList","queryParams","URLSearchParams","this","location","search","get","onGetSearchbarResults","setState","window","scrollTo","modal","listLength","results","innerWidth","react__WEBPACK_IMPORTED_MODULE_5___default","_components_ORGANISMS_Discover_O_DiscoverBody__WEBPACK_IMPORTED_MODULE_9__","page","showPage","maxPage","videoClicked","arrowClicked","isImgLoaded","loading","isSearch","hasPathPrefix","pageTitle","resultsTitle","totalResults","Fragment","_components_ATOMS_UI_A_Spinner_A_Spinner__WEBPACK_IMPORTED_MODULE_10__","loadingInit","_components_ORGANISMS_Header_O_Header__WEBPACK_IMPORTED_MODULE_8__","Component","withRouter","connect","searchResults","showLength","app","dispatch","query","actions","tvId","actionsTV","movieId","actionsMovie"],"mappings":"+IAiDeA,IA7CA,SAACC,GACd,IAAIC,EAAO,KACPC,EAAa,CAACC,IAAEC,QAkBpB,OAhBGJ,EAAMK,aACPJ,EAAOD,EAAMK,WAEVL,EAAMM,WACPL,EAAO,SAACM,GAAD,OAAOP,EAAMK,WAAWE,EAAGP,EAAMM,aAChCE,IAAYR,EAAMM,WAAY,KACtCL,EAAO,SAACM,GAAD,OAAOP,EAAMK,WAANI,MAAAT,EAAK,CAAYO,GAAZG,OAAAC,OAAAC,EAAA,EAAAD,CAAkBX,EAAMM,iBAI1B,UAAlBN,EAAMa,QACPX,EAAWY,KAAKX,IAAEY,eACQ,WAAlBf,EAAMa,SACdX,EAAWY,KAAKX,IAAEa,gBAGjBhB,EAAMiB,OAELC,EAAAC,EAAAC,cAAA,KACEC,KAAMrB,EAAMqB,KACZC,OAAQtB,EAAMsB,OACdC,IAAI,sBACJC,UAAWtB,EAAWuB,KAAK,MAC3BP,EAAAC,EAAAC,cAAA,QAAMI,UAAWrB,IAAEuB,cAChB1B,EAAM2B,OAMXT,EAAAC,EAAAC,cAAA,UACEI,UAAWtB,EAAWuB,KAAK,KAC3BG,QAAS3B,GACTiB,EAAAC,EAAAC,cAAA,QAAMI,UAAWrB,IAAEuB,cAChB1B,EAAM2B,6BCzCjBE,EAAAC,QAAA,CAAkB1B,OAAA,uBAAAsB,aAAA,6BAAAX,cAAA,8BAAAC,eAAA,qDCAlBa,EAAAC,QAAA,CAAkBC,SAAA,2BAAAC,kBAAA,oCAAAC,eAAA,iCAAAC,wBAAA,0CAAAC,iBAAA,mCAAAC,0BAAA,4CAAAC,eAAA,iCAAAC,wBAAA,gECAlBT,EAAAC,QAAA,CAAkBS,QAAA,+CCAlBV,EAAAC,QAAA,CAAkBU,OAAA,uBAAAC,iBAAA,iCAAAC,cAAA,8BAAAC,sBAAA,sCAAAC,kBAAA,6ICuCHC,EArCE,SAAC7C,GAAU,IACnB8C,EAAuB9C,EAAvB8C,SAAUC,EAAa/C,EAAb+C,UACbC,EAAkB,CAAC7C,IAAE4B,UACrBkB,EAAwB,CAAC9C,IAAEgC,kBAC3Be,EAAsB,CAAC/C,IAAE8B,gBACzBkB,EAAsB,CAAChD,IAAEkC,gBAER,aAAlBrC,EAAMa,UACPmC,EAAgBlC,KAAKX,IAAE6B,mBACvBiB,EAAsBnC,KAAKX,IAAEiC,2BAC7Bc,EAAoBpC,KAAKX,IAAE+B,yBAC3BiB,EAAoBrC,KAAKX,IAAEmC,0BAG7B,IAAMO,EAAW7C,EAAMoD,QAAQC,IAAI,SAAAC,GACjC,OACEC,EAAApC,EAAAC,cAAA,MACEoC,IAAKF,EAAO3B,KACZC,QAAS,SAAC6B,GAAD,OAAOzD,EAAM0D,SAASJ,EAAO3B,KAAMmB,EAAUC,IACtDvB,UAAW2B,EAAoB1B,KAAK,MACnC6B,EAAO3B,QAKd,OACE4B,EAAApC,EAAAC,cAAA,OAAKI,UAAWwB,EAAgBvB,KAAK,MACnC8B,EAAApC,EAAAC,cAAA,OAAKI,UAAWyB,EAAsBxB,KAAK,MACxCzB,EAAM2D,OAETJ,EAAApC,EAAAC,cAAA,MAAII,UAAW0B,EAAoBzB,KAAK,MACrCoB,uBCmBMe,EAhDC,SAAC5D,GACf,IAAI6D,EAAc,GACdC,EAAkB,GAEnB9D,EAAM4D,SACPjD,OAAOoD,QAAQ/D,EAAM4D,SAASI,QAAQ,SAAAC,GAA6B,IAAAC,EAAAvD,OAAAwD,EAAA,EAAAxD,CAAAsD,EAAA,GAA3BG,EAA2BF,EAAA,GAAhBG,EAAgBH,EAAA,GACrC,SAAzBG,EAAWC,UACZT,EAAY/C,KACVyC,EAAApC,EAAAC,cAACmD,EAAA,EAAD5D,OAAA6D,OAAA,CACE3D,QAAQ,eACR2C,IAAKY,EACLtB,SAAU9C,EAAM8C,SAChBC,UAAWqB,EACXnE,KAAMD,EAAMyE,cACRJ,KAEyB,WAAzBA,EAAWC,WACnBR,EAAgBhD,KACdyC,EAAApC,EAAAC,cAACW,EAADpB,OAAA6D,OAAA,CACEhB,IAAKY,EACLvD,QAAQ,WACRiC,SAAU9C,EAAM8C,SAChBC,UAAWqB,EACXV,SAAU1D,EAAMyE,cACZJ,OAMd,IAAMK,EACJnB,EAAApC,EAAAC,cAACmD,EAAA,EAAD,CACE1D,QAAQ,iBACRyD,UAAU,SACVK,YAAa,CAACC,KAAM,SAAUC,YAAa,SAC3ClB,MAAO,QACP1D,KAAMD,EAAM8E,eAGhB,OACEvB,EAAApC,EAAAC,cAAA,QAAMI,UAAWrB,IAAEoC,QAASwC,SAAU/E,EAAM8E,cACzCjB,EACAC,EACAY,6BC8BQM,IAtEA,SAAChF,GAAU,IAChBa,EAAyBb,EAAzBa,QAASoE,EAAgBjF,EAAhBiF,YACb/E,EAAa,CAACC,IAAEqC,QAEhBoB,EAAU,KACC,aAAZ/C,IACDX,EAAWY,KAAKX,IAAEsC,kBAClBmB,EACEL,EAAApC,EAAAC,cAACmB,EAAD,CACEO,SAAU9C,EAAM8C,SAChBgC,aAAc9E,EAAM8E,aACpBL,aAAczE,EAAMkF,iBACpBtB,QAAS5D,EAAM4D,WAIrB,IAAIuB,EAAU,KACVC,EAAY,KA2ChB,MA1Ce,UAAZvE,IACDX,EAAWY,KAAKX,IAAEuC,eAEflC,IAAgBR,EAAMmF,WACvBA,EAAU,GACVxE,OAAOoD,QAAQ/D,EAAMmF,SAASnB,QAAQ,SAAAC,GAAmB,IAAAC,EAAAvD,OAAAwD,EAAA,EAAAxD,CAAAsD,EAAA,GAAjBT,EAAiBU,EAAA,GAAZnE,EAAYmE,EAAA,GACxB,SAA5BnE,EAAO4E,YAAYC,KACpBO,EAAQrE,KACNyC,EAAApC,EAAAC,cAAChB,EAAA,EAAD,CACEoD,IAAKA,EACLnC,KAAMtB,EAAO4E,YAAYtD,KACzBC,OAAO,SACPL,QAAM,EACNJ,QAASA,EACTc,KAAM5B,EAAO4D,SAGjBwB,EAAQrE,KACNyC,EAAApC,EAAAC,cAAChB,EAAA,EAAD,CACEoD,IAAKA,EACLnD,WAAYL,EAAMK,WAClBsB,KAAM5B,EAAO4D,MACb9C,QAASA,EACTP,WAAYP,EAAO4E,iBAKxB3E,EAAMoF,YACPA,EACE7B,EAAApC,EAAAC,cAAA,KAAGI,UAAWrB,IAAEyC,mBAAoB5C,EAAMoF,UAAUzB,QAIxDwB,EACE5B,EAAApC,EAAAC,cAAA,OAAKI,UAAWrB,IAAEwC,uBACfwC,KAOP5B,EAAApC,EAAAC,cAAA,UAAQI,UAAWtB,EAAWuB,KAAK,MACjC8B,EAAApC,EAAAC,cAACiE,EAAA,EAAD,CAAOC,MAAOL,EAAapE,QAASA,IACnC+C,EACAuB,EACAC,yBCxEPvD,EAAAC,QAAA,CAAkByD,OAAA,yNCYZA,6MACJC,MAAQ,CACNC,mBAAoB,MAuBtBC,sBAAwB,SAACC,EAASC,GACf,OAAdA,EACDC,EAAK7F,MAAM8F,eAAeH,GACJ,UAAdC,GACRC,EAAK7F,MAAM+F,kBAAkBJ,MAIjCK,oBAAsB,SAACC,GACrBJ,EAAK7F,MAAMkG,mBAAmBD,uFA5B9B,IACME,EADS,IAAIC,gBAAgBC,KAAKrG,MAAMsG,SAASC,QAC5BC,IAAI,KAC/BH,KAAKrG,MAAMyG,sBAAsBN,GACjCE,KAAKK,SAAS,CAAEjB,mBAAoBU,IACpCQ,OAAOC,SAAS,EAAG,gDAInB,IAAIP,KAAKrG,MAAMsG,SAASd,QAAUa,KAAKrG,MAAMsG,SAASd,MAAMqB,MAAO,CACjE,IACMV,EADS,IAAIC,gBAAgBC,KAAKrG,MAAMsG,SAASC,QAC5BC,IAAI,KAE5BL,IAAgBE,KAAKb,MAAMC,qBAC5BY,KAAKrG,MAAMyG,sBAAsBN,GACjCE,KAAKK,SAAS,CAAEjB,mBAAoBU,uCAkBxC,IAAIW,EAAaT,KAAKrG,MAAM8G,WACxBC,EAAU,KACXvG,IAAY6F,KAAKrG,MAAM+G,QAAS,KAC9BJ,OAAOK,YAAc,IACtBF,EAAa,GACLH,OAAOK,YAAc,IAC7BF,EAAa,GACLH,OAAOK,YAAc,MAC7BF,EAAa,IAGfC,EACEE,EAAA9F,EAAAC,cAAC8F,EAAA,EAAD,CACErG,QAAQ,WACRsG,KAAMd,KAAKrG,MAAMoH,SACjBC,QAAShB,KAAKrG,MAAMqH,QACpBN,QAASV,KAAKrG,MAAM+G,QACpBD,WAAYA,EACZQ,aAAcjB,KAAKX,sBACnB6B,aAAclB,KAAKL,oBACnBwB,aAAcnB,KAAKrG,MAAMyH,QACzBC,UAAQ,EACRC,eAAa,KAInB,IAAIC,EAAY,SACZC,EAAe,UAMnB,OALGxB,KAAKb,MAAMC,oBAAwD,KAAlCY,KAAKb,MAAMC,qBAC7CmC,EAAU,CAAC,iBAAkBvB,KAAKb,MAAMC,mBAAoB,OAAOhE,KAAK,IACxEoG,EAAe,CAACxB,KAAKrG,MAAM8H,aAAc,gBAAiBzB,KAAKb,MAAMC,oBAAoBhE,KAAK,KAI9FwF,EAAA9F,EAAAC,cAAA6F,EAAA9F,EAAA4G,SAAA,KACEd,EAAA9F,EAAAC,cAAC4G,EAAA,EAAD,CACEP,QAASpB,KAAKrG,MAAMiI,YACpBL,UAAWA,IACbX,EAAA9F,EAAAC,cAAA,OAAKI,UAAWrB,IAAEoF,QAChB0B,EAAA9F,EAAAC,cAAC8G,EAAA,EAAD,CAAQrH,QAAQ,SAASoE,YAAa4C,IACrCd,WA9EUoB,aA0GNC,sBAAWC,YArBF,SAAA7C,GACtB,MAAO,CACLuB,QAASvB,EAAMe,OAAO+B,cACtBR,aAActC,EAAMe,OAAOuB,aAC3BG,YAAazC,EAAMe,OAAO0B,YAC1BR,QAASjC,EAAMe,OAAOkB,QACtBL,SAAU5B,EAAMe,OAAOa,SACvBmB,WAAY/C,EAAMgD,IAAID,WACtBzB,WAAYtB,EAAMgD,IAAI1B,aAKC,SAAA2B,GACzB,MAAO,CACLhC,sBAAuB,SAACiC,GAAD,OAAWD,EAASE,IAA4BD,KACvExC,mBAAoB,SAACD,GAAD,OAAWwC,EAASE,IAAyB1C,KACjEH,eAAgB,SAAC8C,GAAD,OAAUH,EAASI,IAAuBD,KAC1D7C,kBAAmB,SAAC+C,GAAD,OAAaL,EAASM,IAA6BD,OAGhDT,CAA6C9C","file":"static/js/2.1afaf052.chunk.js","sourcesContent":["import React from 'react';\r\nimport c from './Button.module.scss';\r\nimport * as u from '../../../../shared/Utility';\r\n\r\nconst button = (props) => {\r\n  let func = null;\r\n  let classNames = [c.Button];\r\n\r\n  if(props.btnClicked) {\r\n    func = props.btnClicked;\r\n\r\n    if(props.buttonArgs) {\r\n      func = (e) => props.btnClicked(e, props.buttonArgs);\r\n    } else if(u.isArrayGT(props.buttonArgs, 0)) {\r\n      func = (e) => props.btnClicked(e, ...props.buttonArgs)\r\n    }\r\n  }\r\n\r\n  if(props.context === 'login') {\r\n    classNames.push(c.Button__Login);\r\n  } else if(props.context === 'logout') {\r\n    classNames.push(c.Button__Logout);\r\n  }\r\n  \r\n  if(props.isLink) {\r\n    return (\r\n      <a \r\n        href={props.href}\r\n        target={props.target}\r\n        rel='noopener noreferrer'\r\n        className={classNames.join(' ')}>\r\n        <span className={c.Button__Text}>\r\n          {props.text}\r\n        </span>\r\n      </a> \r\n    )\r\n  } else {\r\n    return (\r\n      <button \r\n        className={classNames.join(' ')}\r\n        onClick={func}>\r\n        <span className={c.Button__Text}>\r\n          {props.text}\r\n        </span>\r\n      </button> \r\n    )\r\n  }\r\n}\r\n \r\nexport default button;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__qeSPR\",\"Button__Text\":\"Button_Button__Text__-SCdJ\",\"Button__Login\":\"Button_Button__Login__3r9X-\",\"Button__Logout\":\"Button_Button__Logout__2N23u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropdown\":\"Dropdown_Dropdown__3fBqO\",\"Dropdown_discover\":\"Dropdown_Dropdown_discover__vMY_k\",\"Dropdown__List\":\"Dropdown_Dropdown__List__1IBTC\",\"Dropdown__List_discover\":\"Dropdown_Dropdown__List_discover__3mPbT\",\"Dropdown__Header\":\"Dropdown_Dropdown__Header__3oYdW\",\"Dropdown__Header_discover\":\"Dropdown_Dropdown__Header_discover__2-oxh\",\"Dropdown__Item\":\"Dropdown_Dropdown__Item__lSNiq\",\"Dropdown__Item_discover\":\"Dropdown_Dropdown__Item_discover__1FGvk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Filters\":\"Filters_Filters__79eZp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__Qitun\",\"Header__Discover\":\"Header_Header__Discover__3xNQb\",\"Header__Login\":\"Header_Header__Login__2815X\",\"Header__Login_Buttons\":\"Header_Header__Login_Buttons__3W1w1\",\"Header__Fineprint\":\"Header_Header__Fineprint__2WATO\"};","import React from 'react';\r\nimport c from './Dropdown.module.scss';\r\n\r\nconst dropdown = (props) => {\r\n  const {stateKey, updateKey} = props;\r\n  let dropdownClasses = [c.Dropdown];\r\n  let dropdownHeaderClasses = [c.Dropdown__Header];\r\n  let dropdownListClasses = [c.Dropdown__List];\r\n  let dropdownItemClasses = [c.Dropdown__Item];\r\n  \r\n  if(props.context === 'discover') {\r\n    dropdownClasses.push(c.Dropdown_discover);\r\n    dropdownHeaderClasses.push(c.Dropdown__Header_discover);\r\n    dropdownListClasses.push(c.Dropdown__List_discover);\r\n    dropdownItemClasses.push(c.Dropdown__Item_discover);\r\n  }\r\n  \r\n  const dropdown = props.options.map(option => {\r\n    return (\r\n      <li \r\n        key={option.text}\r\n        onClick={(_) => props.selected(option.text, stateKey, updateKey)}\r\n        className={dropdownItemClasses.join(' ')}>\r\n        {option.text}\r\n      </li>\r\n    );\r\n  })\r\n\r\n  return (\r\n    <div className={dropdownClasses.join(' ')}>\r\n      <div className={dropdownHeaderClasses.join(' ')}>\r\n        {props.value}\r\n      </div>\r\n      <ul className={dropdownListClasses.join(' ')}>\r\n        {dropdown}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default dropdown;","import React from 'react';\r\nimport Input from '../../../ATOMS/UI-A/Input-A/Input';\r\nimport Dropdown from '../../../ATOMS/UI-A/Dropdown-A/Dropdown';\r\nimport c from './Filters.module.scss';\r\n\r\nconst filters = (props) => {\r\n  let textFilters = [];\r\n  let dropdownFilters = [];\r\n\r\n  if(props.filters) {\r\n    Object.entries(props.filters).forEach(([filterKey, filterData]) => {\r\n      if(filterData.inputType === 'text') {\r\n        textFilters.push(\r\n          <Input \r\n            context='discoverText'\r\n            key={filterKey}\r\n            stateKey={props.stateKey}\r\n            updateKey={filterKey} \r\n            func={props.inputChanged} \r\n            {...filterData} />\r\n        );\r\n      } else if(filterData.inputType === 'select') {\r\n        dropdownFilters.push(\r\n          <Dropdown \r\n            key={filterKey} \r\n            context='discover'\r\n            stateKey={props.stateKey}\r\n            updateKey={filterKey}\r\n            selected={props.inputChanged}\r\n            {...filterData} />\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  const submitBtn = (\r\n    <Input \r\n      context='discoverSubmit'\r\n      inputType='submit' \r\n      inputConfig={{type: 'submit', placeholder: 'Apply'}} \r\n      value={'Apply'}\r\n      func={props.applyFilters} />\r\n  );\r\n\r\n  return (\r\n    <form className={c.Filters} onSubmit={props.applyFilters}>\r\n      {textFilters}\r\n      {dropdownFilters}\r\n      {submitBtn}\r\n    </form>\r\n  );\r\n}\r\n \r\nexport default filters;","import React from 'react';\r\nimport Title from '../../ATOMS/Shared-A/Title-A/Title';\r\nimport Button from '../../ATOMS/UI-A/Button-A/Button';\r\nimport Filters from '../../MOLECULES/Discover-M/Filters-M/Filters';\r\n\r\nimport * as u from '../../../shared/Utility';\r\nimport c from './Header.module.scss';\r\n\r\nconst header = (props) => {\r\n  const { context, headerTitle } = props;\r\n  let classNames = [c.Header];\r\n\r\n  let filters = null;\r\n  if(context === 'discover') {\r\n    classNames.push(c.Header__Discover);\r\n    filters = (\r\n      <Filters \r\n        stateKey={props.stateKey}\r\n        applyFilters={props.applyFilters}\r\n        inputChanged={props.updateInputValue}\r\n        filters={props.filters} />\r\n    );\r\n  }\r\n\r\n  let buttons = null;\r\n  let fineprint = null;\r\n  if(context === 'login') {\r\n    classNames.push(c.Header__Login);\r\n\r\n    if(u.isObjNotEmpty(props.buttons)) {\r\n      buttons = [];\r\n      Object.entries(props.buttons).forEach(([key, button]) => {\r\n        if(button.inputConfig.type === 'link') {\r\n          buttons.push(\r\n            <Button \r\n              key={key}\r\n              href={button.inputConfig.href}\r\n              target='_blank'\r\n              isLink\r\n              context={context}\r\n              text={button.value} />\r\n          )\r\n        } else {\r\n          buttons.push(\r\n            <Button\r\n              key={key}\r\n              btnClicked={props.btnClicked}\r\n              text={button.value}\r\n              context={context}\r\n              buttonArgs={button.inputConfig} />\r\n          );\r\n        }\r\n      });\r\n      \r\n      if(props.fineprint) {\r\n        fineprint = (\r\n          <p className={c.Header__Fineprint}>{props.fineprint.value}</p>\r\n        );\r\n      }\r\n\r\n      buttons = (\r\n        <div className={c.Header__Login_Buttons}>\r\n          {buttons}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <header className={classNames.join(' ')}>\r\n      <Title title={headerTitle} context={context} />\r\n      {filters}\r\n      {buttons}\r\n      {fineprint}\r\n    </header>\r\n  );\r\n}\r\n \r\nexport default header;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Search\":\"Search_Search__2sM_9\"};","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Header from '../../components/ORGANISMS/Header-O/Header';\r\nimport FilmBody from '../../components/ORGANISMS/Discover-O/DiscoverBody';\r\nimport Spinner from '../../components/ATOMS/UI-A/Spinner-A/Spinner';\r\nimport * as actions from '../../store/actions/SearchActions';\r\nimport * as actionsTV from '../../store/actions/TVActions';\r\nimport * as actionsMovie from '../../store/actions/MoviesActions';\r\nimport * as u from '../../shared/Utility';\r\nimport c from './Search.module.scss';\r\n\r\nclass Search extends Component {\r\n  state = { \r\n    currentQueryParams: ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    const params = new URLSearchParams(this.props.location.search);\r\n    const queryParams = params.get('q');\r\n    this.props.onGetSearchbarResults(queryParams);\r\n    this.setState({ currentQueryParams: queryParams });\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if(!this.props.location.state || !this.props.location.state.modal) {\r\n      const params = new URLSearchParams(this.props.location.search);\r\n      const queryParams = params.get('q');\r\n      \r\n      if(queryParams !== this.state.currentQueryParams) {\r\n        this.props.onGetSearchbarResults(queryParams);\r\n        this.setState({ currentQueryParams: queryParams });\r\n      }\r\n    }\r\n  }\r\n\r\n  getFilmDetailsHandler = (videoId, videoType) => {\r\n    if(videoType === 'tv') {      \r\n      this.props.onGetTVDetails(videoId); \r\n    } else if(videoType === 'movie') {\r\n      this.props.onGetMovieDetails(videoId); \r\n    }\r\n  }\r\n\r\n  arrowClickedHandler = (arrow) => {\r\n    this.props.onChangeSearchList(arrow);\r\n  }\r\n\r\n  render() { \r\n    let listLength = this.props.listLength;\r\n    let results = null;\r\n    if(u.isArrayGT(this.props.results, 0)) {\r\n      if(window.innerWidth <= 400) {\r\n        listLength = 10;\r\n      } else if(window.innerWidth <= 700) {\r\n        listLength = 14;\r\n      } else if(window.innerWidth <= 900) {\r\n        listLength = 16;\r\n      } \r\n\r\n      results = (\r\n        <FilmBody\r\n          context='discover'\r\n          page={this.props.showPage}\r\n          maxPage={this.props.maxPage}\r\n          results={this.props.results}\r\n          listLength={listLength}\r\n          videoClicked={this.getFilmDetailsHandler}\r\n          arrowClicked={this.arrowClickedHandler}\r\n          isImgLoaded={!this.props.loading}\r\n          isSearch\r\n          hasPathPrefix />\r\n      );\r\n    }\r\n\r\n    let pageTitle = 'Search';\r\n    let resultsTitle = 'Results';\r\n    if(this.state.currentQueryParams && this.state.currentQueryParams !== '') {\r\n      pageTitle=['Searching for ', this.state.currentQueryParams, '...'].join('');\r\n      resultsTitle = [this.props.totalResults, ' Results for ', this.state.currentQueryParams].join('');\r\n    }\r\n\r\n    return ( \r\n      <>\r\n        <Spinner \r\n          loading={this.props.loadingInit} \r\n          pageTitle={pageTitle} />\r\n        <div className={c.Search}>\r\n          <Header context='search' headerTitle={resultsTitle} />\r\n          {results}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n \r\nconst mapStateToProps = state => {\r\n  return {\r\n    results: state.search.searchResults,\r\n    totalResults: state.search.totalResults,\r\n    loadingInit: state.search.loadingInit,\r\n    loading: state.search.loading,\r\n    showPage: state.search.showPage,\r\n    showLength: state.app.showLength,\r\n    listLength: state.app.listLength\r\n\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onGetSearchbarResults: (query) => dispatch(actions.getSearchbarResults(query)),\r\n    onChangeSearchList: (arrow) => dispatch(actions.changeSearchList(arrow)),\r\n    onGetTVDetails: (tvId) => dispatch(actionsTV.getTVDetails(tvId)),    \r\n    onGetMovieDetails: (movieId) => dispatch(actionsMovie.getMovieDetails(movieId))\r\n  }\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Search));"],"sourceRoot":""}