{"version":3,"sources":["components/ATOMS/UI-A/Button-A/Button.js","components/ATOMS/UI-A/Button-A/Button.module.scss","assets/img/user.svg","components/MOLECULES/Profile-M/User-M/User.module.scss","components/ORGANISMS/Profile-O/SidePanel-O/SidePanel.module.scss","components/MOLECULES/Profile-M/Highlights-M/Highlights.module.scss","containers/Profile/Profile.module.scss","components/MOLECULES/Profile-M/User-M/User.js","components/ORGANISMS/Profile-O/SidePanel-O/SidePanel.js","components/MOLECULES/Profile-M/Highlights-M/Highlights.js","containers/Profile/Profile.js"],"names":["button","props","func","classNames","c","Button","btnClicked","buttonArgs","e","u","apply","concat","Object","_Volumes_WORK_Web_Projects_ReactJS_FilmBase_React_App_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","context","push","Button__Login","Button__Logout","isLink","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","href","target","rel","className","join","Button__Text","text","onClick","module","exports","__webpack_require__","p","User","User__Caption","User__CreateAccount","SidePanel","Gradient","SidePanel__Group","Highlights","Highlights__Image","Highlights__ImageWrapper","Highlights__Name","Highlights__Count","Highlights__Count_favorite","Profile","Profile__SidePanel","Profile__Highlights","Profile__Carousel","Profile__Lists","Profile__NotAvailable","user","name","createAccount","isGuest","react_default","Title","title","userName","Fragment","Subtitle","subtitle","FilmImage","imgSrc","avatar","imgAlt","sidePanel","logout","highlights","img","highlightName","countClasses","count","type","fullHeart","bookmark","substring","length","src","alt","state","guest","categories","rated","movie","tv","login","favorite","getFilmDetailsHandler","videoId","videoType","_this","onGetTVDetails","onGetMovieDetails","JSON","parse","localStorage","getItem","this","onGetProfileInit","history","replace","onClearProfileData","window","scrollTo","_this2","filmList","highlightList","_this$props","authType","loadingInit","settings","slidesToShow","slidesToScroll","data","userState","_this$props2","profile","entries","forEach","_ref","_ref2","slicedToArray","key","value","_ref3","_ref4","filmType","list","pathBase","newList","map","film","Thumbnail","id","image","poster_path","rating","vote_average","showVideo","typePathBase","CarouselSecondary","assign","onLogout","Spinner","loading","pageTitle","Component","connect","dispatch","actions","actionsLogin","actionsTV","actionsMovie"],"mappings":"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","file":"static/js/5.51d4c7b3.chunk.js","sourcesContent":["import React from 'react';\r\nimport c from './Button.module.scss';\r\nimport * as u from '../../../../shared/Utility';\r\n\r\nconst button = (props) => {\r\n  let func = null;\r\n  let classNames = [c.Button];\r\n\r\n  if(props.btnClicked) {\r\n    func = props.btnClicked;\r\n\r\n    if(props.buttonArgs) {\r\n      func = (e) => props.btnClicked(e, props.buttonArgs);\r\n    } else if(u.isArrayGT(props.buttonArgs, 0)) {\r\n      func = (e) => props.btnClicked(e, ...props.buttonArgs)\r\n    }\r\n  }\r\n\r\n  if(props.context === 'login') {\r\n    classNames.push(c.Button__Login);\r\n  } else if(props.context === 'logout') {\r\n    classNames.push(c.Button__Logout);\r\n  }\r\n  \r\n  if(props.isLink) {\r\n    return (\r\n      <a \r\n        href={props.href}\r\n        target={props.target}\r\n        rel='noopener noreferrer'\r\n        className={classNames.join(' ')}>\r\n        <span className={c.Button__Text}>\r\n          {props.text}\r\n        </span>\r\n      </a> \r\n    )\r\n  } else {\r\n    return (\r\n      <button \r\n        className={classNames.join(' ')}\r\n        onClick={func}>\r\n        <span className={c.Button__Text}>\r\n          {props.text}\r\n        </span>\r\n      </button> \r\n    )\r\n  }\r\n}\r\n \r\nexport default button;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__qeSPR\",\"Button__Text\":\"Button_Button__Text__-SCdJ\",\"Button__Login\":\"Button_Button__Login__3r9X-\",\"Button__Logout\":\"Button_Button__Logout__2N23u\"};","module.exports = __webpack_public_path__ + \"static/media/user.abe753bf.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"User\":\"User_User__2g-Pf\",\"User__Caption\":\"User_User__Caption__CeyBk\",\"User__CreateAccount\":\"User_User__CreateAccount__1Dg5a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SidePanel\":\"SidePanel_SidePanel__mdFDU\",\"Gradient\":\"SidePanel_Gradient__VB3oY\",\"SidePanel__Group\":\"SidePanel_SidePanel__Group__AuJ_z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Highlights\":\"Highlights_Highlights__1h6PA\",\"Highlights__Image\":\"Highlights_Highlights__Image__14p-X\",\"Highlights__ImageWrapper\":\"Highlights_Highlights__ImageWrapper__2NQrO\",\"Highlights__Name\":\"Highlights_Highlights__Name__232Ns\",\"Highlights__Count\":\"Highlights_Highlights__Count__3tSOT\",\"Highlights__Count_favorite\":\"Highlights_Highlights__Count_favorite__2IOAw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"Profile_Profile__18zSZ\",\"Profile__SidePanel\":\"Profile_Profile__SidePanel__1jjra\",\"Profile__Highlights\":\"Profile_Profile__Highlights__2a53H\",\"Profile__Carousel\":\"Profile_Profile__Carousel__2z5zs\",\"Profile__Lists\":\"Profile_Profile__Lists__2mmw_\",\"Profile__NotAvailable\":\"Profile_Profile__NotAvailable__1X8WE\"};","import React from 'react';\r\nimport Image from '../../../ATOMS/Shared-A/FilmImage-A/FilmImage';\r\nimport Title from '../../../ATOMS/Shared-A/Title-A/Title';\r\nimport Subtitle from '../../../ATOMS/Shared-A/Subtitle-A/Subtitle';\r\n\r\nimport avatar from '../../../../assets/img/user.svg';\r\nimport c from './User.module.scss';\r\n\r\nconst user = (props) => {\r\n  let name          = null;\r\n  let createAccount = null;\r\n\r\n  if(props.isGuest) {\r\n    createAccount = (\r\n      <a \r\n        className={c.User__CreateAccount} \r\n        href=\"https://www.themoviedb.org/account/signup\" \r\n        target='_blank' \r\n        rel='noreferrer noopener'>Create an Account</a>\r\n    );\r\n\r\n    name = (\r\n      <Title \r\n        context='profile'\r\n        title={'Welcome ' + props.userName} />\r\n    );\r\n  } else {\r\n    name = (\r\n      <>\r\n        <Title \r\n          context='profile'\r\n          title={'Welcome ' + props.userName} />\r\n        <a \r\n          className={c.User__CreateAccount} \r\n          href={\"https://www.themoviedb.org/u/\" + props.userName} \r\n          target='_blank' \r\n          rel='noreferrer noopener'>\r\n          <Subtitle\r\n            context='profile'\r\n            subtitle={props.name || props.userName} />\r\n        </a>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <figure className={c.User}>\r\n      <Image\r\n        context='avatar'\r\n        imgSrc={avatar}\r\n        imgAlt='User Avatar' />\r\n      <figcaption className={c.User__Caption}>\r\n        {name}\r\n        {createAccount}\r\n      </figcaption>\r\n    </figure>\r\n  );\r\n}\r\n \r\nexport default user;","import React from 'react';\r\n\r\nimport User from '../../../MOLECULES/Profile-M/User-M/User';\r\nimport Button from '../../../ATOMS/UI-A/Button-A/Button';\r\nimport c from './SidePanel.module.scss';\r\n\r\nconst sidePanel = (props) => {  \r\n  return (\r\n    <div className={c.SidePanel}>\r\n      <div className={c.SidePanel__Group}>\r\n        <User\r\n          userName={props.userName}\r\n          name={props.name}\r\n          isGuest={props.isGuest} />\r\n        <Button\r\n          context='logout'\r\n          btnClicked={props.logout}\r\n          text='Logout' />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default sidePanel;","import React from 'react';\r\n\r\nimport bookmark from '../../../../assets/img/bookmark.svg';\r\nimport fullHeart from '../../../../assets/img/full-heart.svg';\r\nimport c from './Highlights.module.scss';\r\n\r\nconst highlights = (props) => {\r\n  let img = null;\r\n  let name = props.highlightName;\r\n  let countClasses = [c.Highlights__Count];\r\n  let count = 0;\r\n  \r\n  if(props.type === 'rated') {\r\n    img = fullHeart;\r\n  } else if(props.type === 'favorite') {\r\n    img = bookmark;\r\n    countClasses.push(c.Highlights__Count_favorite);\r\n  }\r\n\r\n  if(props.count && props.count > 0) {\r\n    count = props.count;\r\n  }  \r\n\r\n  if(count === 1) {\r\n    name = name.substring(0, name.length - 1);\r\n  }\r\n  \r\n  return ( \r\n    <div className={c.Highlights}>\r\n      <div className={c.Highlights__ImageWrapper}>\r\n        <img className={c.Highlights__Image} src={img} alt={props.highlightName}/>\r\n        <span className={countClasses.join(' ')}>{count}</span>\r\n      </div>\r\n      <span className={c.Highlights__Name}>{name}</span>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default highlights;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport SidePanel from '../../components/ORGANISMS/Profile-O/SidePanel-O/SidePanel';\r\nimport Subtitle from '../../components/ATOMS/Shared-A/Subtitle-A/Subtitle';\r\nimport CarouselSecondary from '../../components/ATOMS/UI-A/CarouselSecondary-A/CarouselSecondary';\r\nimport Thumbnail from '../../components/MOLECULES/FilmList-M/Thumbnail-M/Thumbnail';\r\nimport Highlights from '../../components/MOLECULES/Profile-M/Highlights-M/Highlights';\r\nimport Spinner from '../../components/ATOMS/UI-A/Spinner-A/Spinner';\r\n\r\nimport c from './Profile.module.scss';\r\nimport * as actions from '../../store/actions/ProfileActions';\r\nimport * as actionsLogin from '../../store/actions/LoginActions';\r\nimport * as actionsMovie from '../../store/actions/MoviesActions';\r\nimport * as actionsTV from '../../store/actions/TVActions';\r\nimport * as u from '../../shared/Utility';\r\n\r\nclass Profile extends Component { \r\n  state = {\r\n    guest: {\r\n      categories: {\r\n        rated: {\r\n          movie: 'Rated Movies',\r\n          tv: 'Rated TV Shows'\r\n        }\r\n      },\r\n      type: {\r\n        rated: {\r\n          movie: 'ratedMovies',\r\n          tv: 'ratedTV',\r\n        }\r\n      }\r\n    },\r\n    login: {\r\n      categories: {\r\n        favorite: {\r\n          movie: 'Favorite Movies',\r\n          tv: 'Favorite TV Shows'\r\n        },\r\n        rated: {\r\n          movie: 'Rated Movies',\r\n          tv: 'Rated TV Shows'\r\n        }\r\n      },\r\n      type: {\r\n        favorite: {\r\n          movie: 'favoriteMovies',\r\n          tv: 'favoriteTV'\r\n        },\r\n        rated: {\r\n          movie: 'ratedMovies',\r\n          tv: 'ratedTV',\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  componentDidMount() {\r\n    if(JSON.parse(localStorage.getItem('session'))) {\r\n      this.props.onGetProfileInit();\r\n    } else {\r\n      this.props.history.replace('/login');\r\n      this.props.onClearProfileData();\r\n    }\r\n    window.scrollTo(0, 0);\r\n  }\r\n  \r\n  getFilmDetailsHandler = (videoId, videoType) => {\r\n    if(videoType === 'tv') {      \r\n      this.props.onGetTVDetails(videoId); \r\n    } else if(videoType === 'movie') {\r\n      this.props.onGetMovieDetails(videoId); \r\n    }\r\n  }\r\n\r\n  render() { \r\n    let sidePanel     = null;\r\n    let filmList      = [];\r\n    let highlightList = [];\r\n    const { authType, loadingInit } = this.props;\r\n    const settings = {\r\n      slidesToShow: 5,\r\n      slidesToScroll: 1\r\n    }\r\n\r\n    if(!loadingInit && authType) {\r\n      let userName  = null;\r\n      let name      = null;\r\n      let data      = null;\r\n      const userState = this.state[authType];\r\n      const { rated, favorite, profile } = this.props;\r\n      \r\n      if(authType === 'guest') {\r\n        userName  = 'Guest';\r\n        data      = { rated };\r\n      } else if(authType === 'login') {\r\n        name      = profile.name;\r\n        userName  = profile.userName;\r\n        data      = { favorite, rated };\r\n      }\r\n\r\n      if(u.isObjNotEmpty(data)) {\r\n        let typePathBase = '/profile/';\r\n        Object.entries(data).forEach(([key, value]) => {\r\n          Object.entries(value).forEach(([filmType, list]) => {\r\n            let pathBase = filmType === 'movie' ? '/profile/movie/' : '/profile/tv/';\r\n            const newList = list.map(film => {\r\n              return (\r\n                <Thumbnail\r\n                  key={film.id} \r\n                  videoId={film.id}\r\n                  image={film.poster_path}\r\n                  title={film.title || film.name}\r\n                  rating={film.vote_average}\r\n                  showVideo={this.getFilmDetailsHandler}\r\n                  pathBase={pathBase}\r\n                  typePathBase={typePathBase} />\r\n              );\r\n            });\r\n            \r\n            if(u.isArrayGT(newList, 0)) {\r\n              filmList.push(\r\n                <div \r\n                  key={userState.type[key][filmType]} \r\n                  className={c.Profile__Carousel}>\r\n                  <Subtitle \r\n                    context='moreInfo' \r\n                    subtitle={userState.categories[key][filmType]} />\r\n                  <CarouselSecondary {...settings} list={newList} />\r\n                </div>);\r\n              \r\n              highlightList.push(\r\n                <Highlights \r\n                  key={userState.type[key][filmType]}\r\n                  type={key} \r\n                  count={newList.length} \r\n                  highlightName={userState.categories[key][filmType]} />\r\n              );\r\n            } else {\r\n              filmList.push(\r\n                <div \r\n                  key={userState.type[key][filmType]} \r\n                  className={c.Profile__Carousel}>\r\n                  <Subtitle \r\n                    context='moreInfo' \r\n                    subtitle={userState.categories[key][filmType]} />\r\n                  <p className={c.Profile__NotAvailable}>No {userState.categories[key][filmType]} Found</p>\r\n                </div>\r\n              );\r\n\r\n              highlightList.push(\r\n                <Highlights \r\n                  key={userState.type[key][filmType]}\r\n                  type={key} \r\n                  highlightName={userState.categories[key][filmType]} />\r\n              );\r\n            }\r\n          })\r\n        });\r\n      }\r\n\r\n      sidePanel = (\r\n        <SidePanel\r\n          isGuest={authType === 'guest'}\r\n          userName={userName}\r\n          name={name}\r\n          logout={this.props.onLogout} />\r\n      );\r\n    }\r\n\r\n    return ( \r\n      <>\r\n        <Spinner \r\n          loading={this.props.loadingInit}\r\n          pageTitle='Profile' />\r\n        <div className={c.Profile}>\r\n          <div className={c.Profile__SidePanel}>\r\n            {sidePanel}\r\n          </div>\r\n          <section className={c.Profile__Lists}>\r\n            <div className={c.Profile__Highlights}>\r\n              {highlightList}\r\n            </div>\r\n            {filmList}\r\n          </section>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    profile: state.profile.profile,\r\n    favorite: state.profile.favorite,\r\n    rated: state.profile.rated,\r\n    authType: state.profile.authType,\r\n    loadingInit: state.profile.loadingInit\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onGetProfileInit: () => dispatch(actions.getProfileInit()),\r\n    onClearProfileData: () => dispatch(actions.clearProfileData()),\r\n    onLogout: () => dispatch(actionsLogin.logout()),\r\n    onGetTVDetails: (videoId) => dispatch(actionsTV.getTVDetails(videoId)),\r\n    onGetMovieDetails: (videoId) => dispatch(actionsMovie.getMovieDetails(videoId))\r\n  }\r\n}\r\n \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);"],"sourceRoot":""}